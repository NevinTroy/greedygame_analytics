(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(55)},32:function(e,t,a){},44:function(e,t){},46:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/logo.63207fb8.svg"},51:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),u=a(1),s=a(11),i=(a(32),a(3)),o=(a(34),a(17)),d=function(e,t,a){e({type:"REQUEST_PENDING"}),fetch("http://go-dev.greedygame.com/v3/dummy/report?startDate=".concat(t,"&endDate=").concat(a)).then(function(e){return e.json()}).then(function(t){fetch("http://go-dev.greedygame.com/v3/dummy/apps").then(function(e){return e.json()}).then(function(a){window.__appName=a,window.__data=t.data,e({type:"REQUEST_SUCCESS",payload:{cache_time:t.cache_time,data:t.data,appName:a.data}})})}).catch(function(t){return e({type:"REQUEST_FAILED",payload:t})})},m=function(e,t){e({type:"ENABLE_CHANGE",payload:t})},E=a(4),p=(a(46),function(e){var t=e.setEnable,a=e.requestData,c=e.startDate,l=e.endDate,s=e.defaultenableVal,o=e.setToggle,d=Object(u.b)(),m=Object(n.useState)(s),p=Object(i.a)(m,2),f=p[0],g=p[1],b=Object(n.useState)(s),y=Object(i.a)(b,2),h=y[0],D=y[1],v=r.a.useRef(),N=r.a.useRef(),O=function(){var e=Object(E.a)(f),t=e.splice(v.current,1)[0];e.splice(N.current,0,t),v.current=null,N.current=null,g(e)},j=function(e){var t=e.target,a=t.name,n=t.checked;D(n?[].concat(Object(E.a)(h),[a]):h.filter(function(e){return e!==a}))};function S(e){return h.includes(e)}return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Dimensions and Metrics"),r.a.createElement("div",{className:"yuhh"},f.map(function(e,t){return r.a.createElement("div",{className:"checkbox",key:t,draggable:!0,onDragStart:function(e){return v.current=t},onDragEnter:function(e){return N.current=t},onDragEnd:O,onDragOver:function(e){return e.preventDefault()}},r.a.createElement("label",null,r.a.createElement("input",{id:t,name:e,type:"checkbox",checked:S(e),onChange:j}),r.a.createElement("span",null,e)))})),r.a.createElement("button",{onClick:function(){var e=f.filter(function(e){return h.includes(e)});a(d,c,l),t(d,e)},className:"apply"},"Apply"),r.a.createElement("button",{className:"close",onClick:function(){o(!1)}},"Close"))}),f=(a(48),function(){return r.a.createElement("div",{className:"error"},r.a.createElement("img",{src:a(50),alt:"No Data found "}),r.a.createElement("div",{className:"text"},r.a.createElement("h1",null,"Hey! Something's off!"),r.a.createElement("h1",null,"We couldn't display the given data."),r.a.createElement("h3",null,"Try changing your filters or selecting a different date")))}),g=(a(51),a(53),function(e){var t=e.enableVal,a=e.isPending,n=e.data,c=e.appName;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"App Name"),t.map(function(e,t){return r.a.createElement("th",{key:t},e)}))),r.a.createElement("tbody",null,a?r.a.createElement("td",null,"Loading"):n.map(function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,function(e){var t=new Date(e),a=t.toLocaleString("default",{month:"long"});return"".concat(t.getDate()," ").concat(a," ").concat(t.getFullYear())}(e.date)),c.map(function(t,a){if(t.app_id===e.app_id)return r.a.createElement("td",{key:a},t.app_name)}),t.map(function(t,a){switch(t){case"Clicks":return r.a.createElement("td",{key:a},e.clicks);case"AD Requests":return r.a.createElement("td",{key:a},e.requests);case"AD Responses":return r.a.createElement("td",{key:a},e.responses);case"Impressions":return r.a.createElement("td",{key:a},e.impressions);case"Revenue":return r.a.createElement("td",{key:a},e.revenue.toFixed(2));case"Fill Rate":return r.a.createElement("td",{key:a},(e.requests/e.responses*100).toFixed(2));case"CTR":return r.a.createElement("td",{key:a},(e.clicks/e.impressions*100).toFixed(2));default:return null}}))})))}),b=a(18),y=function(){var e=Object(u.b)(),t=(Object(o.a)(),Object(u.c)(function(e){return e.requestData.isPending})),a=(Object(u.c)(function(e){return e.requestData.cache_time}),Object(u.c)(function(e){return e.requestData.data})),c=Object(u.c)(function(e){return e.requestData.appName}),l=Object(u.c)(function(e){return e.setStartDate.startDate}),s=Object(u.c)(function(e){return e.setEndDate.endDate}),E=Object(u.c)(function(e){return e.setEnable.enableVal}),y=Object(u.c)(function(e){return e.requestData.error}),h=Object(n.useState)(!1),D=Object(i.a)(h,2),v=D[0],N=D[1];Object(n.useEffect)(function(){d(e,"2020-12-11","2020-12-12")},[y]);var O=function(t){"startDate"===t.target.id?function(e,t){e({type:"START_DATE_CHANGE",payload:t})}(e,t.target.value):function(e,t){e({type:"END_DATE_CHANGE",payload:t})}(e,t.target.value)};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Analytics")),r.a.createElement("div",{className:"settings"},r.a.createElement("input",{id:"startDate",type:"date",value:l,onChange:function(e){O(e)}}),r.a.createElement("input",{id:"endDate",type:"date",value:s,onChange:function(e){O(e)}}),r.a.createElement("button",{onClick:function(){N(!v)}},r.a.createElement(b.a,{className:"settingsIcon"}),"Settings"),v?r.a.createElement(p,{setEnable:m,requestData:d,startDate:l,endDate:s,defaultenableVal:E,setToggle:N}):r.a.createElement("h1",null,"Sorry")),0!==Object.keys(a).length?r.a.createElement("div",{className:"table"},r.a.createElement(g,{enableVal:E,isPending:t,data:a,appName:c})):r.a.createElement("div",{className:"errorBoundary",styles:{marginTop:v?"120px":"10px"}},r.a.createElement(f,null)))},h={isPending:!1,cache_time:0,data:[],error:"",appName:[]},D={startDate:"2020-12-11"},v={endDate:"2020-12-12"},N={enableVal:["Clicks","AD Requests","AD Responses","Impressions","Revenue","Fill Rate","CTR"]},O=Object(s.a)({requestData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_PENDING":return Object.assign({},e,{isPending:!0});case"REQUEST_SUCCESS":return Object.assign({},e,{data:t.payload.data,isPending:!1,appName:t.payload.appName,cache_time:t.payload.cache_time});case"REQUEST_FAILED":return Object.assign({},e,{error:t.payload,isPending:!1});default:return e}},setEnable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ENABLE_CHANGE":return Object.assign({},e,{enableVal:t.payload});default:return e}},setStartDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"START_DATE_CHANGE":return Object.assign({},e,{startDate:t.payload});default:return e}},setEndDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"END_DATE_CHANGE":return Object.assign({},e,{endDate:t.payload});default:return e}}}),j=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),S=Object(s.b)(O,j);S.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}(S.getState())}),l.a.createRoot(document.getElementById("root")).render(r.a.createElement(u.a,{store:S},r.a.createElement(y,null)))}},[[19,2,1]]]);
//# sourceMappingURL=main.ceae5fb8.chunk.js.map