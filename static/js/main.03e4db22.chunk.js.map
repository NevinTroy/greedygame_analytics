{"version":3,"sources":["logo.svg","redux/actions.js","redux/constants.js","components/Settings/Settings.js","components/ErrorBoundary/ErrorBoundary.js","components/Table/Table.js","App.js","redux/reducers.js","index.js","localStorage.js"],"names":["module","exports","__webpack_require__","p","requestData","dispatch","start","end","type","fetch","concat","then","res","json","data","res1","d1","window","payload","cache_time","appName","catch","error","setStartDate","date","setEndDate","setEnable","enable","Settings","props","startDate","endDate","defaultenableVal","setToggle","useDispatch","_useState","useState","_useState2","Object","slicedToArray","listItems","setListItems","_useState3","_useState4","filteredListItems","setFilteredListItems","dragItem","React","useRef","dragOverItem","handleSort","_listItems","toConsumableArray","draggedItemContent","splice","current","handleChange","e","_e$target","target","name","checked","filter","item","isChecked","includes","react_default","a","createElement","className","map","index","key","draggable","onDragStart","onDragEnter","onDragEnd","onDragOver","preventDefault","id","onChange","onClick","ErrorBoundary","src","require","alt","Table","enableVal","isPending","val","d","Date","nameOfMonth","toLocaleString","month","getDate","getFullYear","changeFormat","it","ind","app_id","app_name","clicks","requests","responses","impressions","revenue","toFixed","App","history","createBrowserHistory","useSelector","state","toggle","useEffect","filterParams","location","search","substr","filtersFromParams","qs","parse","count","String","Array","setDate","event","value","push","index_esm","components_Settings_Settings","keys","length","components_Table_Table","styles","marginTop","components_ErrorBoundary_ErrorBoundary","initialState","initialStartDate","initialEndDate","enableState","rootReducers","combineReducers","arguments","undefined","action","assign","persistedState","serializedState","localStorage","getItem","JSON","err","loadState","store","createStore","subscribe","stringify","setItem","saveState","getState","ReactDOM","createRoot","document","getElementById","render","es","src_App_0"],"mappings":"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","file":"static/js/main.03e4db22.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.63207fb8.svg\";","import { REQUEST_PENDING, \n    REQUEST_SUCCESS, \n    REQUEST_FAILED, \n    ENABLE_CHANGE, \n    START_DATE_CHANGE,\n    END_DATE_CHANGE } from \"./constants\";\n\n\nexport const requestData=(dispatch,start,end)=>{\n    dispatch({type:REQUEST_PENDING});\n\n    fetch(`http://go-dev.greedygame.com/v3/dummy/report?startDate=${start}&endDate=${end}`)\n        .then(res=>res.json())\n        .then(data=>{\n            fetch(`http://go-dev.greedygame.com/v3/dummy/apps`)\n              .then(res1=>res1.json())\n              .then(d1=>{\n                //Storing in the cache\n                window['__appName'] = d1;\n                window['__data']=data.data;\n                dispatch({type:REQUEST_SUCCESS, \n                    payload: {\n                        cache_time: data.cache_time,\n                        data: data.data,\n                        appName: d1.data\n                    }})\n              })\n          })\n        .catch(error=>dispatch({type:REQUEST_FAILED, payload: error}))\n}\n\nexport const setStartDate=(dispatch, date)=>{\n    dispatch({type: START_DATE_CHANGE, payload: date})\n}\n\nexport const setEndDate=(dispatch, date)=>{\n    dispatch({type: END_DATE_CHANGE, payload: date})\n}\n\nexport const setEnable=(dispatch,enable)=>{\n    dispatch({type:ENABLE_CHANGE,payload:enable})\n}","export const REQUEST_PENDING = 'REQUEST_PENDING';\nexport const REQUEST_SUCCESS = 'REQUEST_SUCCESS';\nexport const REQUEST_FAILED = 'REQUEST_FAILED';\nexport const START_DATE_CHANGE='START_DATE_CHANGE';\nexport const END_DATE_CHANGE='END_DATE_CHANGE';\nexport const ENABLE_CHANGE='ENABLE_CHANGE';","import React, {useState} from 'react'\r\nimport { useDispatch} from 'react-redux';\r\n\r\nimport './Settings.css'\r\n\r\nconst Settings=(props)=>{\r\n  \r\n  const {setEnable, requestData, startDate, endDate, defaultenableVal, setToggle}=props;\r\n  const dispatch=useDispatch();\r\n\r\n  const [listItems,setListItems]=useState(defaultenableVal);\r\n  const [filteredListItems,setFilteredListItems]=useState(defaultenableVal);\r\n\r\n  const dragItem = React.useRef();\r\n  const dragOverItem = React.useRef();\r\n  \r\n  const handleSort=()=>{\r\n    let _listItems=[...listItems];\r\n\r\n    const draggedItemContent=_listItems.splice(dragItem.current,1)[0];\r\n\r\n    _listItems.splice(dragOverItem.current,0, draggedItemContent);\r\n\r\n    dragItem.current=null;\r\n    dragOverItem.current=null;\r\n    \r\n    setListItems(_listItems);\r\n  }\r\n\r\n  const handleChange=(e) =>{\r\n    const { name,checked } = e.target;\r\n    if (checked) {\r\n      setFilteredListItems([...filteredListItems, name]);\r\n    } else {\r\n      setFilteredListItems(filteredListItems.filter((item) => item !== name));\r\n    }\r\n  }\r\n\r\n  function isChecked(item){\r\n    return filteredListItems.includes(item);\r\n  }\r\n\r\n  const applyChanges= ()=>{\r\n    const res=listItems.filter(item => filteredListItems.includes(item));\r\n    requestData(dispatch,startDate,endDate);\r\n    setEnable(dispatch,res);\r\n  }\r\n  return(\r\n    <div className='container'>\r\n      <h3>Dimensions and Metrics</h3>\r\n      <div className='yuhh'>\r\n      {\r\n          listItems.map((item,index)=>{\r\n            return (\r\n              <div className='checkbox'\r\n                key={index} \r\n                draggable \r\n                onDragStart={(e)=>dragItem.current=index}\r\n                onDragEnter={(e)=>dragOverItem.current=index}\r\n                onDragEnd={handleSort}\r\n                onDragOver={(e)=>e.preventDefault()}\r\n              >\r\n                <label>\r\n                  <input \r\n                    id={index} name={item} \r\n                    type='checkbox' \r\n                    checked={isChecked(item)} \r\n                    onChange={handleChange}\r\n                  /><span>{item}</span>\r\n                </label>\r\n              </div>\r\n            )\r\n          })    \r\n        } \r\n      </div>\r\n      <button onClick={applyChanges} className='apply'>Apply</button>\r\n      <button className='close' onClick={()=>{setToggle(false)}}>Close</button>\r\n    </div>\r\n  ) \r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport './ErrorBoundary.css';\r\n\r\nconst ErrorBoundary = () => {\r\n  return (\r\n    <div className='error'>\r\n        <img src={require('../../logo.svg')} alt='No Data found ' />\r\n        <div className='text'>\r\n            <h1>Hey! Something's off!</h1>\r\n            <h1>We couldn't display the given data.</h1>\r\n            <h3>Try changing your filters or selecting a different date</h3>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorBoundary","import React from 'react'\r\nimport './Table.css'\r\n\r\nconst changeFormat=(date)=>{\r\n    const d =new Date(date);\r\n    const nameOfMonth = d.toLocaleString('default', {\r\n      month: 'long',\r\n    });\r\n    return `${d.getDate()} ${nameOfMonth} ${d.getFullYear()}`;\r\n}\r\n\r\nconst Table = (props) => {\r\n    const {enableVal, isPending, data, appName}= props;\r\n    return (\r\n      <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Date</th>\r\n              <th>App Name</th>\r\n              {\r\n                enableVal.map((val,index)=>{\r\n                  return <th key={index}>{val}</th>\r\n                })\r\n              }\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n          {\r\n            !isPending ? (\r\n              data.map((item,index)=>{\r\n                 return(\r\n                  <tr key={index}>\r\n                    <td>{changeFormat(item.date)}</td>\r\n                    {\r\n                      appName.map((it,ind)=>{\r\n                        if(it.app_id === item.app_id){\r\n                          return (\r\n                              <td key={ind}>{it.app_name}</td>\r\n                          )\r\n                        }\r\n                      })\r\n                    }\r\n                    {\r\n                      enableVal.map((it,ind)=>{\r\n                        switch(it){\r\n                          case 'Clicks':\r\n                            return <td key={ind}>{item.clicks}</td>\r\n                          case 'AD Requests':\r\n                            return <td key={ind}>{item.requests}</td>\r\n                          case 'AD Responses':\r\n                            return <td key={ind}>{item.responses}</td>\r\n                          case 'Impressions':\r\n                            return <td key={ind}>{item.impressions}</td>\r\n                          case 'Revenue':\r\n                            return <td key={ind}>{item.revenue.toFixed(2)}</td>\r\n                          case 'Fill Rate':\r\n                            return <td key={ind}>{((item.requests/item.responses)*100).toFixed(2)}</td>                        \r\n                          case 'CTR':\r\n                            return <td key={ind}>{((item.clicks/item.impressions)*100).toFixed(2)}</td>\r\n                          default:\r\n                            return null;\r\n                        }\r\n                      })\r\n                    } \r\n                  </tr>\r\n                )\r\n              })\r\n            )\r\n            :\r\n            <td>Loading</td>\r\n          }\r\n          </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nexport default Table","import React, {useEffect, useState} from 'react';\r\nimport { useDispatch, useSelector} from 'react-redux';\r\n\r\nimport qs from 'qs';\r\nimport {createBrowserHistory} from 'history';\r\n\r\nimport { requestData, setEnable, setStartDate, setEndDate} from \"./redux/actions\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport ErrorBoundary from './components/ErrorBoundary/ErrorBoundary';\r\n\r\nimport \"./App.css\";\r\nimport Table from './components/Table/Table';\r\n\r\nimport { GoSettings } from \"react-icons/go\";\r\n\r\nconst App=()=>{\r\n  const dispatch=useDispatch();\r\n\r\n  const history = createBrowserHistory();\r\n\r\n  const isPending=useSelector(state=>state.requestData.isPending);\r\n  const cache_time=useSelector(state=>state.requestData.cache_time);\r\n  const data=useSelector(state=>state.requestData.data);\r\n  const appName=useSelector(state=>state.requestData.appName);\r\n  let startDate=useSelector(state=>state.setStartDate.startDate);\r\n  let endDate=useSelector(state=>state.setEndDate.endDate);\r\n  let enableVal=useSelector(state=>state.setEnable.enableVal) ;\r\n  const error=useSelector(state=>state.requestData.error);\r\n\r\n  const [toggle,setToggle]=useState(false);\r\n\r\n  useEffect(()=>{\r\n      requestData(dispatch,'2020-12-11','2020-12-12');\r\n\r\n      const filterParams=history.location.search.substr(1);\r\n      const filtersFromParams=qs.parse(filterParams);\r\n\r\n      if(filterParams.count){\r\n        setStartDate(dispatch,String(filtersFromParams.startDate));\r\n        setEndDate(dispatch,String(filtersFromParams.endDate));\r\n        setEnable(dispatch,Array(filtersFromParams.enableVal));\r\n      }\r\n  },[error])\r\n\r\n  const setDate=(event)=>{\r\n    event.target.id === 'startDate' ? setStartDate(dispatch, event.target.value): setEndDate(dispatch, event.target.value);\r\n  }\r\n\r\n  useEffect(()=>{\r\n    history.push(`?startDate=${startDate}`);\r\n  },[startDate])\r\n\r\n  useEffect(()=>{\r\n    history.push(`?endDate=${endDate}`);\r\n  },[startDate])\r\n\r\n  useEffect(()=>{\r\n    history.push(`?enableVal=${enableVal}`);\r\n  },[enableVal])\r\n\r\n  return(\r\n    <div className='App'>\r\n      <div className='bar'></div>\r\n        <div className='header'>\r\n          <h1>Analytics</h1>\r\n        </div>\r\n        <div className='settings'>\r\n          <input id='startDate' type='date' value={startDate} onChange={(event)=>{setDate(event)}} />\r\n          <input id='endDate' type='date' value={endDate} onChange={(event)=>{setDate(event)}} />       \r\n          <button onClick={()=>{toggle ? setToggle(false) : setToggle(true)}}><GoSettings className='settingsIcon'/>Settings</button>\r\n          {\r\n            toggle ? \r\n              <Settings \r\n              setEnable={setEnable} requestData={requestData} \r\n              startDate={startDate} endDate={endDate} \r\n              defaultenableVal={enableVal} setToggle={setToggle}\r\n              />\r\n            :\r\n            <h1>Sorry</h1>\r\n          }\r\n        </div>\r\n        {\r\n          Object.keys(data).length !== 0\r\n            ?\r\n          <div className='table'>\r\n            <Table enableVal={enableVal} isPending={isPending} data={data} appName={appName} /> \r\n          </div>\r\n          : \r\n          <div className='errorBoundary' styles={{marginTop : toggle ? '120px' : '10px' }}>\r\n            <ErrorBoundary />\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default App;","import {\n  REQUEST_PENDING,\n  REQUEST_SUCCESS,\n  REQUEST_FAILED,\n  ENABLE_CHANGE,\n  START_DATE_CHANGE,\n  END_DATE_CHANGE\n} from \"./constants.js\";\n\nlet initialState = {\n  isPending: false,\n  cache_time: 0,\n  data: [],\n  error: \"\",\n  appName: [],\n};\n\nlet initialSetDate={\n  startDate:'2020-12-11',\n  endDate:'2020-12-12'\n}\n\nlet initialStartDate={\n  startDate:'2020-12-11'\n}\nlet initialEndDate={\n  endDate:'2020-12-12'\n}\n\nexport const setDate=(state=initialSetDate, action={})=>{\n  switch(action.type){\n    case START_DATE_CHANGE:\n      return Object.assign({},state, {\n        startDate: action.payload\n    })\n    case END_DATE_CHANGE:\n        return Object.assign({},state, {\n          startDate: action.payload\n    })\n    default:\n      return state\n  }\n}\nexport const setStartDate=(state=initialStartDate, action={})=>{\n  switch(action.type){\n    case START_DATE_CHANGE:\n      return Object.assign({},state, {\n        startDate: action.payload\n      })\n    default:\n      return state\n  }\n}\nexport const setEndDate=(state=initialEndDate, action={})=>{\n  switch(action.type){\n    case END_DATE_CHANGE:\n      return Object.assign({},state, {\n        endDate: action.payload\n      })\n    default:\n      return state\n  }\n}\nexport const requestData = (state =initialState, action = {}) => {\n  switch (action.type) {\n    case REQUEST_PENDING:\n      return Object.assign({}, state, { isPending: true });\n    case REQUEST_SUCCESS:\n      return Object.assign({}, state, {\n        data: action.payload.data,\n        isPending: false,\n        appName: action.payload.appName,\n        cache_time: action.payload.cache_time\n      });\n    case REQUEST_FAILED:\n      return Object.assign({}, state, {\n        error: action.payload,\n        isPending: false,\n      });\n    default:\n      return state;\n  }\n};\n\nlet enableState={\n  enableVal:['Clicks', 'AD Requests', 'AD Responses', 'Impressions','Revenue', 'Fill Rate', 'CTR']\n}\n\nexport const setEnable=(state=enableState, action={})=>{\n    switch(action.type){\n      case ENABLE_CHANGE:\n        return Object.assign({}, state,{enableVal:action.payload})\n      default:\n        return state;\n    }\n}","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { Provider } from \"react-redux\";\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport { requestData, \n  setEnable,\n  setStartDate,\n  setEndDate} \nfrom \"./redux/reducers.js\";\nimport cache from './middleware/cache.middleware'\n\nimport { loadState, saveState } from \"./localStorage\";\n\nconst rootReducers = combineReducers({requestData, setEnable, setStartDate, setEndDate});\nconst persistedState=loadState();\n\nconst store = createStore(\n  rootReducers,\n  persistedState,\n  // applyMiddleware(cache)\n\n);\n\nstore.subscribe(()=>{\n  saveState(store.getState());\n})\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n","export const loadState=()=>{\r\n    try{\r\n        const serializedState=localStorage.getItem('state');\r\n        if(serializedState === null){\r\n            return undefined;\r\n        }\r\n        return JSON.parse(serializedState);\r\n    }\r\n    catch(err){\r\n        return undefined;\r\n    }\r\n};\r\n\r\nexport const saveState=(state)=>{\r\n    try{\r\n        const serializedState=JSON.stringify(state);\r\n        localStorage.setItem('state',serializedState)\r\n    }\r\n    catch(err){\r\n        \r\n    }\r\n}"],"sourceRoot":""}